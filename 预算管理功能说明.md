# 预算管理功能说明

## 功能概述

鹊桥AI婚礼帮手的预算管理功能提供了全方位的婚礼预算规划和管理解决方案，帮助新人精细化控制婚礼开支，确保每一分钱都花在刀刃上。

## 核心功能

### 1. 智能预算模板
- **三种预设模板**: 经济实惠型、标准温馨型、豪华尊贵型
- **自定义总预算**: 根据实际预算情况自动分配各项开支
- **比例优化**: 基于行业最佳实践的预算分配比例
- **一键应用**: 快速创建完整的预算方案

### 2. 预算概览仪表板
- **总预算**: 显示婚礼预算总额
- **已支出**: 实时追踪已支出金额
- **剩余预算**: 计算剩余可用预算
- **使用率**: 预算使用百分比，带有颜色预警

### 3. 可视化分析
- **饼图**: 直观展示各类别预算分配比例
- **柱状图**: 对比预算与实际支出
- **颜色编码**: 使用不同颜色区分各项预算状态
- **交互式图表**: 支持悬停查看详细信息

### 4. 分类预算管理
- **12大分类**: 场地费用、摄影摄像、婚礼服装等
- **分类图标**: 每个分类配有专属图标和颜色
- **分组显示**: 按分类组织预算项，便于管理
- **折叠展开**: 支持分类的折叠和展开查看

### 5. 预算项管理
- **增删改查**: 完整的预算项管理功能
- **实时统计**: 自动计算剩余预算和使用率
- **状态提醒**: 
  - 🟢 正常: 使用率 < 80%
  - 🟡 接近预算: 使用率 80-90%
  - 🔴 超支: 使用率 ≥ 100%
- **描述备注**: 支持为每个预算项添加详细描述

### 6. 数据导出功能
- **完整报告**: 导出包含统计和明细的完整报告
- **CSV格式**: 支持Excel打开，便于进一步分析
- **中文支持**: 自动添加BOM确保中文正常显示
- **分类汇总**: 包含按分类汇总的统计信息

## 预算分类体系

### 主要分类
1. **场地费用** 🏰 - 婚礼场地租赁、布置费用
2. **摄影摄像** 📷 - 婚礼摄影、摄像服务
3. **婚礼服装** 👰 - 新娘婚纱、新郎礼服等
4. **化妆造型** 💄 - 新娘化妆、造型设计
5. **餐饮酒水** 🍽️ - 婚宴餐饮、酒水费用
6. **婚礼蛋糕** 🎂 - 婚礼蛋糕、甜品台
7. **花艺装饰** 💐 - 鲜花布置、装饰品
8. **音响灯光** 🎵 - 音响设备、灯光效果
9. **交通用车** 🚗 - 婚礼用车、交通费用
10. **礼品红包** 🎁 - 伴手礼、红包等
11. **策划服务** 📋 - 婚礼策划、执行服务
12. **其他费用** 📦 - 其他未分类费用

## 使用流程

### 1. 新手入门
1. 访问预算管理页面
2. 在预算模板推荐中选择合适的模板
3. 输入您的婚礼总预算
4. 点击"应用模板"生成预算方案

### 2. 预算管理
1. 在预算列表中查看各项预算
2. 点击分类标题展开查看明细
3. 使用"编辑"按钮修改预算项
4. 实时查看使用率和剩余预算

### 3. 追踪支出
1. 当有实际支出时，编辑对应预算项
2. 更新"已支出金额"
3. 系统自动计算剩余预算和使用率
4. 通过颜色状态快速了解预算健康状况

### 4. 分析报告
1. 查看概览仪表板了解整体情况
2. 通过图表分析支出分布
3. 导出详细报告进行离线分析

## 技术特性

### 状态管理
- 使用Zustand进行状态管理
- 实时数据同步和更新
- 智能缓存和错误处理

### 数据可视化
- 基于Recharts的图表组件
- 响应式设计适配各种屏幕
- 交互式用户体验

### 用户体验
- 友好的颜色预警系统
- 平滑的动画过渡效果
- 直观的操作界面设计

## 数据字段说明

### 预算项字段
- **分类**: 预算所属的分类
- **预算金额**: 该项的预算分配
- **已支出金额**: 实际已支出金额
- **描述**: 预算项的详细说明
- **状态**: 自动计算的使用率状态

### 统计字段
- **总预算**: 所有预算项之和
- **总支出**: 所有已支出金额之和
- **剩余预算**: 总预算减去总支出
- **使用率**: 总支出占总预算的百分比

## 文件结构

```
src/
├── store/
│   └── budgetStore.ts              # 预算状态管理
├── components/budget/
│   ├── BudgetOverview.tsx          # 预算概览仪表板
│   ├── BudgetChart.tsx             # 预算可视化图表
│   ├── BudgetList.tsx              # 预算项列表
│   ├── BudgetForm.tsx              # 预算表单
│   └── BudgetTemplate.tsx          # 预算模板
└── app/budget/
    └── page.tsx                   # 预算管理页面
```

## 扩展可能

### 未来功能
1. **智能推荐**: 基于历史数据的预算优化建议
2. **支出提醒**: 预算超支前的预警通知
3. **多版本对比**: 不同预算方案的对比分析
4. **AI助手**: 集成AI进行预算优化建议
5. **支付记录**: 详细的支付流水记录

### 集成可能
1. **支付接口**: 直接记录实际支付
2. **供应商报价**: 对比供应商报价与预算
3. **合同管理**: 关联合同与预算项
4. **时间线**: 按时间追踪支出进度

## 使用建议

### 预算规划原则
1. **预留缓冲**: 建议预留10-15%的应急预算
2. **优先级排序**: 重要的项目优先保障预算
3. **市场调研**: 了解当前市场价格，合理设定预算
4. **灵活调整**: 根据实际情况灵活调整预算分配

### 支出管理建议
1. **实时记录**: 及时更新支出数据
2. **保留凭证**: 保存所有支出凭证
3. **定期审查**: 定期检查预算执行情况
4. **及时调整**: 发现问题及时调整预算策略