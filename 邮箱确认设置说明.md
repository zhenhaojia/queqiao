# 禁用邮箱确认设置指南

## 目标
让用户注册后可以直接登录，无需邮箱确认。

## 方法1：通过 Supabase Dashboard（推荐）

1. 登录 [Supabase Dashboard](https://supabase.com/dashboard)
2. 选择您的项目：`skwlzsrmyrikvbibqsjp`
3. 进入 **Authentication** → **Settings**
4. 找到 **"Enable email confirmations"** 选项
5. **取消勾选**此选项
6. 点击 **Save** 保存设置

## 方法2：通过 SQL 执行

如果您有数据库访问权限，可以执行以下 SQL：

```sql
UPDATE auth.settings 
SET enable_email_confirmations = false
WHERE id = (SELECT id FROM auth.settings LIMIT 1);
```

## 验证设置

设置完成后，新注册的用户将：
- ✅ 注册成功后立即获得 session
- ✅ 可以直接登录，无需邮箱验证
- ✅ 仍然会收到欢迎邮件（但不需要点击）

## 注意事项

⚠️ **重要提醒：**
- 此设置影响所有新注册的用户
- 已存在的未确认用户仍需要验证邮箱
- 如需重新启用邮箱确认，只需重新勾选该选项

## 代码更新

项目代码已更新以支持此配置：

### authStore.ts 改进
- 优化了注册流程逻辑
- 支持无邮箱确认的直接登录
- 提供了更好的错误提示

### 配置文件
- `disable-email-confirmation-setup.sql`：SQL 脚本
- 可在 Supabase SQL Editor 中执行

## 测试

设置完成后，请测试：
1. 注册新账号
2. 尝试直接登录
3. 确认无需邮箱验证即可登录成功

---

💡 **提示：** 为提高安全性，建议在生产环境中考虑其他验证方式（如手机号验证、MFA等）。