# 嘉宾管理功能说明

## 功能概述

鹊桥AI婚礼帮手的嘉宾管理功能提供了完整的嘉宾名单管理解决方案，包括嘉宾信息的增删改查、RSVP状态追踪、批量导入导出等功能。

## 核心功能

### 1. 嘉宾信息管理
- **添加嘉宾**: 支持单个添加嘉宾，包含姓名、邮箱、电话、地址、携伴人数、饮食限制等信息
- **编辑嘉宾**: 可修改嘉宾的所有信息
- **删除嘉宾**: 支持删除不需要的嘉宾记录
- **搜索筛选**: 支持按姓名、邮箱、电话搜索，按RSVP状态筛选

### 2. RSVP状态管理
- **三种状态**: 已确认、已拒绝、待回复
- **快速操作**: 对待回复嘉宾提供一键确认/拒绝操作
- **状态统计**: 实时显示各状态嘉宾数量统计

### 3. 批量操作
- **批量导入**: 支持CSV文件上传或直接粘贴数据
- **模板下载**: 提供标准CSV导入模板
- **数据验证**: 自动验证邮箱格式、携伴人数等字段
- **错误提示**: 详细的导入错误信息反馈

### 4. 数据导出
- **名单导出**: 导出完整的嘉宾名单（CSV格式）
- **统计报告**: 导出包含统计信息的详细报告
- **确认名单**: 导出已确认出席的嘉宾名单

### 5. 邀请函发送
- **批量发送**: 向所有待回复且有邮箱的嘉宾发送邀请函
- **发送进度**: 实时显示发送进度
- **结果统计**: 显示发送成功和失败的数量

## 页面布局

### 统计卡片区域
- 总嘉宾数
- 已确认数量
- 待回复数量
- 携伴人数统计

### 嘉宾列表区域
- 可搜索和筛选的嘉宾表格
- 显示嘉宾基本信息和RSVP状态
- 快速操作按钮（确认/拒绝/编辑/删除）

### 邀请函发送区域（右侧边栏）
- 显示可发送邀请的嘉宾数量
- 批量发送邀请函功能
- 发送进度和结果反馈

## 数据字段说明

### 必填字段
- **姓名**: 嘉宾的真实姓名

### 可选字段
- **邮箱**: 用于发送邀请函和联系
- **电话**: 联系电话
- **地址**: 联系地址
- **携伴人数**: 该嘉宾携带的同伴数量（默认为0）
- **饮食限制**: 特殊饮食需求或备注信息

### 系统字段
- **RSVP状态**: pending/confirmed/declined
- **创建时间**: 自动记录创建时间
- **更新时间**: 自动记录最后修改时间

## 使用流程

### 1. 添加嘉宾
1. 点击"添加嘉宾"按钮
2. 填写嘉宾信息
3. 点击"保存"完成添加

### 2. 批量导入
1. 点击"批量导入"按钮
2. 下载CSV模板或直接粘贴数据
3. 系统自动验证数据
4. 确认导入

### 3. 管理RSVP
1. 在嘉宾列表中查看当前状态
2. 对待回复嘉宾进行确认/拒绝操作
3. 实时查看统计变化

### 4. 发送邀请
1. 在右侧邀请函发送区域查看可发送数量
2. 点击"发送邀请函"
3. 等待发送完成并查看结果

## 技术特性

### 状态管理
- 使用Zustand进行状态管理
- 实时同步数据和UI状态
- 错误处理和加载状态管理

### 响应式设计
- 适配桌面端和移动端
- 表格在移动端可横向滚动
- 灵活的布局适配不同屏幕

### 用户体验
- 友好的错误提示
- 加载状态指示
- 操作确认对话框
- 直观的状态标识

## 文件结构

```
src/
├── store/
│   └── guestStore.ts              # 嘉宾状态管理
├── components/guests/
│   ├── GuestList.tsx              # 嘉宾列表组件
│   ├── GuestForm.tsx              # 嘉宾表单组件
│   ├── GuestImport.tsx            # 批量导入组件
│   ├── GuestExport.tsx            # 导出功能组件
│   └── InvitationSender.tsx       # 邀请函发送组件
└── app/guests/
    └── page.tsx                   # 嘉宾管理页面
```

## 数据库支持

功能基于Supabase数据库，使用`guests`表存储嘉宾信息：
- 完整的CRUD操作
- 实时数据同步
- 类型安全的数据访问

## 扩展可能

### 未来功能
1. 邮件模板自定义
2. 短信邀请支持
3. 嘉宾分组管理
4. 座位安排功能
5. 礼物登记管理

### 集成可能
1. 微信小程序邀请
2. 二维码邀请函
3. 在线RSVP表单
4. 数据分析报表